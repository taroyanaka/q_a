<!DOCTYPE html>
<html>
<head>
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="lib/ramda.@0.28.0.js"></script>
</head>
<body>
<div class="react_app"></div>
<!-- <script type="text/babel">
function Neko1() {
    const [count1, setCount1] = React.useState(0);
    const [count2, setCount2] = React.useState(0);

    const [val1, setVal1] = React.useState([1,10,100]);
    const [val2, setVal2] = React.useState(`foo bar baz
or foo2barQUXqux42baðŸ˜„abcðŸ˜„z3isfoo2bar2baz3
æ—¥æœ¬èªžã¯è‡ªç„¶è¨€èªžã®ã†ã¡ã®ä¸€ã¤ã§ä¸»ã«æ—¥æœ¬å›½å†…ã§ä½¿ã‚ã‚Œã¦ã„ã¾ã™`);
const str = `foo
qux
æ—¥æœ¬
blabla`;
    const [val3, setVal3] = React.useState(str);
    const [val4, setVal4] = React.useState(str.split("\n"));

    const click1 = () => setCount1(count1 + 1);
    const click2 = () => setCount2(count2 + 100 + count1);



    return (
<div>
    <h2>Hi</h2>

    <p>count1: {count1}</p>
    <button onClick={click1}>count1 + 1</button>

    <p>count2: {count2}</p>
    <button onClick={click2}>count2 + 100 + count</button>

    { [1,2,3,4,5].map((value) => <li>{value}</li>)}
    { val1.map((value) => <li>{value}</li>)}
    { val2 }
    { val3.split("\n").map((value) => <li>{value}</li>)}
    { val4.map((value) => <li>{value}</li>)}

</div>
    );
};
ReactDOM.createRoot(document.querySelector(".react_app")).render(
    <Neko1 />
);
</script> -->

<script>
b = `foo bar baz or foo2barQUXqux42baðŸ˜„abcðŸ˜„z3isfoo2bar2baz3 æ—¥æœ¬èªžã¯è‡ªç„¶è¨€èªžã®ã†ã¡ã®ä¸€ã¤ã§ä¸»ã«æ—¥æœ¬å›½å†…ã§ä½¿ã‚ã‚Œã¦ã„ã¾ã™`;

y = `foo
qux
æ—¥æœ¬
blabla`;
y_ary = y.split("\n");

// ç¬¬ä¸€å¼•æ•°ãŒæ–‡å­—åˆ—ã®å ´åˆã«ã®ã¿é–¢æ•°ã‚’é©ç”¨ã™ã‚‹é–¢æ•°
function applyIfString(arg1, arg2, func) {
  if (typeof arg1 === 'string') {
    return func(arg1, arg2);
  } else {
    return arg1;
  }
}

tmp_res = [];
// å¤‰æ•°bã«å¯¾ã—ã¦ã€å¤‰æ•°y_aryã®è¦ç´ ã‚’é †ã«fn()ã«æ¸¡ã™é–¢æ•°ã€‚çµæžœã‚’ä¸€æ™‚å¤‰æ•°ã«æ ¼ç´ã—ã€ä¸€æ™‚å¤‰æ•°ã«æ ¼ç´ã—ãŸçµæžœã«å¯¾ã—ã¦fn()ã‚’å†å¸°çš„ã«é©ç”¨ã™ã‚‹é–¢æ•°
const fn2 = (target_str, replacer_str_ary) => {
    if (replacer_str_ary.length == 0) {
        return target_str;
    } else {
        const fn2_1 = (target_str, replacer_str) => {
            const tmp1 = target_str.split(new RegExp(replacer_str));
            const tmp2 = R.intersperse([replacer_str], tmp1);
// console.log(tmp1, tmp2);
            return tmp2;
        };
        // result = applyToStringOnly(fn2_1)(target_str, replacer_str_ary[0]);
        result = applyIfString(target_str, replacer_str_ary[0], fn2_1);
        replacer_str_ary = replacer_str_ary.slice(1);
        res = result.map(V=>fn2(V, replacer_str_ary));
tmp_res.push(res);
        console.log(result, replacer_str_ary);
        // fn2(result, replacer_str_ary);
    }
};
fn2(b, y_ary);
// é…åˆ—ã®ä¸­ã®é…åˆ—ã«undefinedãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã«ã€undefinedã‚’å«ã‚“ã é…åˆ—ã‚’å‰Šé™¤ã™ã‚‹é–¢æ•°
const removeUndefined = (ary) => {
    return ary.filter(V=> !V.includes(undefined) );
};
const tmp1 = R.flatten(removeUndefined(tmp_res)).map(V=>y_ary.includes(V) ? [1,2,3] : V);


</script>

</body>
</html>