<!DOCTYPE html>
<html>
  <head>
    <title>service_index</title>
    <link rel="stylesheet" href="./lib/reset.css">
    <script src="./lib/vue@3.2.36.global.prod.js"></script>
  <style>
  </style>
</head>
<body>
<div class="app">
<!-- urlListをul liでリスト表示してhrefで飛べるようにする -->
<ul>
  <li v-for="url in urlList">
    <a :href="url">{{url}}</a>
  </li>
</ul>

</div>
</body>
<script>
const app = Vue.createApp({
data() {
    return {
serviceList: [
  'q_a',
  'f_i_b',
  'i_t_n',
],
urlList: [],
    }
},
// watch: {
//    any: {
//      handler() {
//      },
//      deep: true
//    },
// },
beforeMounte(){
},
mounted() {
  this.loadSites();
},
beforeUpdate() {
},
updated() {
},
methods: {
    to_ary(it){
        return JSON.parse(JSON.stringify(it));
    },
    loadSites() {
      // getBaseURL()でurlListを更新する
      this.urlList = this.to_ary(this.serviceList).map(it => getBaseURL() + '/' + it + '.html');
      return this.urlList;
    },

},
}).mount('.app');


// テスト環境でも本番環境でも動く
// http://127.0.0.1:3000/ or https://taroyanaka.github.io/q_a/ を想定
function getBaseURL() {
  const url = window.location.href;
  const baseURL = new URL(url).origin;
  return baseURL;
}

</script>
</html>
